(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,a){e.exports={mainImageWrapper:"MainImageWrapper_mainImageWrapper__WaUaz",titleOnImage:"MainImageWrapper_titleOnImage__3Z_IA",titleOnImageBlock:"MainImageWrapper_titleOnImageBlock__3uHg4"}},102:function(e,t,a){e.exports={followUser:"FollowUser_followUser__3Onz9",followUserAvatar:"FollowUser_followUserAvatar__3ihOP",followUserBody:"FollowUser_followUserBody__1LoEA"}},103:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required!"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols!")}}},121:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__lVmTd",posts:"MyPosts_posts__1LOLx"}},14:function(e,t,a){e.exports={navBur:"NavBar_navBur__qBdd1",item:"NavBar_item__3hndL",active:"NavBar_active__1noJp",icon:"NavBar_icon__1nCV0"}},155:function(e,t,a){e.exports=a.p+"static/media/lamp.f8840ecc.jpg"},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(59),r=a(0),o=a.n(r),c=a(15),l=a(10),s=function(e){return{isAuth:e.auth.isAuth}};Object(l.b)(s,{});function u(e){return Object(l.b)(s,{})((function(t){var a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?o.a.createElement(e,r):o.a.createElement(c.a,{to:"/login"})}))}},157:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(63),r=a(5),o=a(6),c={dialogs:[{id:1,name:"Ann"},{id:2,name:"Andy"},{id:3,name:"Mike"}],messages:[{id:1,textMessage:"Hi"},{id:2,textMessage:"Hello"},{id:3,textMessage:"How are you"}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.SEND_MESSAGE:var a=t.newMessage;return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[{id:6,textMessage:a}])});default:return e}},s=function(e){return{type:o.a.SEND_MESSAGE,newMessage:e}}},162:function(e,t,a){e.exports=a.p+"static/media/\u0413\u043e\u043b\u0443\u0431\u043e\u0439 \u041a\u0440\u0443\u0433 \u0411\u0438\u0437\u043d\u0435\u0441 \u041b\u043e\u0433\u043e\u0442\u0438\u043f (5).f26c1188.png"},164:function(e,t,a){e.exports={post:"Post_post__2kuT-"}},166:function(e,t,a){e.exports=a.p+"static/media/Rolling-1s-200px.ea05abc7.svg"},167:function(e,t,a){e.exports=a.p+"static/media/darkBlueSpider.c1ca6854.png"},168:function(e,t,a){e.exports=a.p+"static/media/houses.fdb77550.jpg"},169:function(e,t,a){e.exports={selectedPage:"Paginator_selectedPage__1EgRb"}},170:function(e,t,a){e.exports=a.p+"static/media/666.2ff70a1b.jpg"},172:function(e,t,a){e.exports={rightBur:"RightBar_rightBur__1Htou"}},204:function(e,t,a){e.exports=a(331)},209:function(e,t,a){},213:function(e,t,a){},22:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(163),r=a.n(n).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e9273c8b-70eb-4960-b897-692d970ce8cd"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"& count=").concat(t))},postUserFollow:function(e){return r.post("follow/"+e,{})},deleteUserFollow:function(e){return r.delete("follow/"+e)}},c={getAuthMe:function(){return r.get("auth/me")},login:function(e,t,a,n){return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},l={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}},s={getUserProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},saveProfile:function(e){return r.put("profile/",e)},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}}},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(34),r=function(e,t){t(Object(n.c)(e.message?e.message:"Some error"))}},27:function(e,t,a){e.exports={profileContant:"Profile_profileContant__1_c1O",ava:"Profile_ava__2CzVK",profileInfo:"Profile_profileInfo__29nHf",profileBur:"Profile_profileBur__oZISB",item:"Profile_item__1sRZa",active:"Profile_active__2Kzop"}},331:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),l=(a(209),a(38)),s=a(41),u=a(40),i=a(10),m=(a(213),a(15)),p=a(13),f=a(14),d=a.n(f),E=a(44),g=a(21),v=r.a.memo((function(){return r.a.createElement("nav",{className:d.a.navBur},r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/profile",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.a,size:"1x"}),"Profile")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/dialogs",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.c,size:"1x"}),"Dialogs")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/users",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.g,size:"1x"}),"Users")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/music",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.d,size:"1x"}),"Music")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/news",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.e,size:"1x"}),"News")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/settings",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.b,size:"1x"}),"Settings")),r.a.createElement("div",{className:d.a.item},r.a.createElement(p.b,{to:"/chat",activeClassName:d.a.active},r.a.createElement(E.a,{className:d.a.icon,icon:g.b,size:"1x"}),"Chat")))})),b=a(52),h=a.n(b),O=a(162),S=a.n(O),_=a(64),w=a.n(_),P=r.a.memo((function(e){return r.a.createElement("div",{className:h.a.header},r.a.createElement("div",{className:h.a.logo},r.a.createElement("a",{href:""},r.a.createElement("img",{src:S.a}),r.a.createElement("span",null,"Social Network"))),r.a.createElement("div",{className:h.a.searchBur}),r.a.createElement("div",{className:h.a.loginBlock},null!=e.profile.photos&&r.a.createElement("img",{src:e.profile.photos.small||w.a}),e.isAuth?r.a.createElement("div",null,e.login,"  ",r.a.createElement("button",{onClick:e.logout},"Logout")," "):r.a.createElement(p.b,{to:"/login",activeClassName:h.a.active},"Login")))})),C=a(56),j=a(9),N=a.n(j),T=a(19),I=a(63),k=a(5),U=a(22),y=a(6),A=a(23),x=a(49),F={posts:[{id:1,message:"It is my first post",likesCount:0},{id:2,message:"Hi",likesCount:4},{id:3,message:"Hello",likesCount:5}],profile:{},status:""},R=function(e){return{type:y.a.SET_STATUS,status:e}},L=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.b.getUserProfile(e);case 3:n=t.sent,a((r=n.data,{type:y.a.SET_USER_PROFILE,profile:r})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 10:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.b.getStatus(e);case 3:n=t.sent,a(R(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(R(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.b.savePhoto(e);case 3:0===(n=t.sent).data.resultCode&&a((r=n.data.data.photos,{type:y.a.SAVE_PHOTO_SUCCESS,photos:r})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 10:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a,n){var r,o,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.id,t.prev=2,t.next=5,U.b.saveProfile(e);case 5:if(0!==(o=t.sent).data.resultCode){t.next=10;break}a(L(r)),t.next=13;break;case 10:return c=o.data.messages.length>0?o.data.messages[0]:"Some error",a(Object(x.a)("profileDataForm",{_error:c})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),Object(A.a)(t.t0,a);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}()},M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement("div",{className:h.a.header},r.a.createElement(P,Object.assign({},e.props,{profile:e.props.profile})))},e}return a}(r.a.PureComponent),H=function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,profile:e.profilePage.profile,authorizedUserId:e.auth.id}},W=(Object(i.b)(H,{logout:C.d,getProfile:L}),Object(i.b)(H,{logout:C.d,getProfile:L})(M)),V=a(27),J=a.n(V),Z=a(121),K=a.n(Z),X=a(164),Y=a.n(X),q=r.a.memo((function(e){return r.a.createElement("div",{className:Y.a.post},r.a.createElement("img",{src:"https://pbs.twimg.com/media/ECfnBGCXoAAAIRM.jpg:large"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"Like")," ",e.likesCount))})),Q=a(158),$=a(159),ee=a(103),te=a(39),ae=Object(ee.a)(10),ne=r.a.memo((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(Q.a,{component:te.b,name:"newPost",type:"text",validate:[ee.b,ae]})," "),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))})),re=Object($.a)({form:"newPost"})(ne),oe=r.a.memo((function(e){var t=e.posts.map((function(e){return r.a.createElement(q,{message:e.message,likesCount:e.likesCount,id:e.id,key:e.id})}));return r.a.createElement("div",{className:K.a.myPosts},r.a.createElement("h1",null,"My posts"),r.a.createElement(re,{onSubmit:function(t){e.addPost(t.newPost)}}),r.a.createElement("div",{className:K.a.posts},t))})),ce=Object(i.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:y.a.ADD_POST,newPost:e}}(t))}}}))(oe),le=a(58),se=a(166),ue=a.n(se);function ie(){return r.a.createElement("div",null,r.a.createElement("img",{src:ue.a}))}var me=r.a.memo((function(e){return r.a.createElement("div",{className:J.a.contacts},r.a.createElement("b",null,e.contactTitle,": ")," ",e.contactValue)})),pe=r.a.memo((function(e){return r.a.createElement("div",{className:J.a.profileData},e.isOwner&&r.a.createElement("div",null,r.a.createElement("button",{onClick:e.activateEditMode},"Edit")),r.a.createElement("h1",null,"About me"),r.a.createElement("div",null,r.a.createElement("b",null,"Full name: ")," ",e.profile.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job: ")," ",e.profile.lookingForAJob),r.a.createElement("div",null,r.a.createElement("b",null,"My skills: ")," ",e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("b",null,"About me: ")," ",e.profile.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts: "),e.profile.contacts&&Object.keys(e.profile.contacts).map((function(t){return r.a.createElement(me,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))})),fe=a(35),de=a.n(fe),Ee=r.a.memo((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:de.a.profileForm},r.a.createElement("div",null,r.a.createElement("button",null,"Save")),e.error&&r.a.createElement("div",{className:de.a.formSummeryError},e.error),r.a.createElement("h1",null,"About me"),r.a.createElement("div",null,"  ",r.a.createElement("b",null,"Full name: "),r.a.createElement(Q.a,{name:"fullName",component:te.a,type:"text",placeholder:"Full name"})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job: ")," ",r.a.createElement(Q.a,{name:"lookingForAJob",component:te.a,type:"checkbox"}),"Looking for a job"),r.a.createElement("div",null,r.a.createElement("b",null,"My skills: "),r.a.createElement(Q.a,{name:"lookingForAJobDescription",component:te.a,type:"text",placeholder:"looking For A Job Description"})),r.a.createElement("div",null,r.a.createElement("b",null,"About me: "),r.a.createElement(Q.a,{name:"aboutMe",component:te.a,type:"text",placeholder:"About me"})),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts: ")," ",Object.keys(e.initialValues.contacts).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("b",null,e," : ",r.a.createElement(Q.a,{name:"contacts."+e,component:te.a,type:"text",placeholder:e})))}))))})),ge=Object($.a)({form:"profileDataForm"})(Ee),ve=r.a.memo((function(e){if(!e.profile)return r.a.createElement(ie,null);var t=Object(n.useState)(!1),a=Object(le.a)(t,2),o=a[0],c=a[1];return r.a.createElement("div",null,o?r.a.createElement(ge,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){c(!1)}))}}):r.a.createElement(pe,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){c(!0)}}))})),be=r.a.memo((function(){var e=Object(m.h)(),t=(e.path,e.url);return r.a.createElement("nav",{className:J.a.profileBur},r.a.createElement("div",{className:J.a.item},r.a.createElement(p.b,{to:"".concat(t,"/myPosts"),activeClassName:J.a.active},"TimeLine")),r.a.createElement("div",{className:J.a.item},r.a.createElement(p.b,{to:"".concat(t,"/aboutMe"),activeClassName:J.a.active},"About")))})),he=a(85),Oe=a(155),Se=a.n(Oe),_e=a(167),we=a.n(_e),Pe=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(le.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(e.status),s=Object(le.a)(l,2),u=s[0],i=s[1];return Object(n.useEffect)((function(){i(e.status)}),[e.status]),r.a.createElement("div",null,o?r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(u)},type:"text",value:u})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){c(!0)}},e.status||"----")))})),Ce=r.a.memo((function(e){return r.a.createElement("div",{className:J.a.ava},null!=e.profile.photos&&r.a.createElement("img",{src:e.profile.photos.large||we.a}),e.isOwner&&r.a.createElement("input",{onChange:function(t){null!=t.target.files&&e.savePhoto(t.target.files[0])},type:"file"}),r.a.createElement(Pe,{status:e.status,updateStatus:e.updateStatus}))})),je=r.a.memo((function(e){var t=Object(m.g)().userId,a=!1;+t===e.authorizedUserId&&(a=!0);var n={backgroundImage:"url(".concat(Se.a,")")},o=Object(m.h)(),c=o.path;o.url;return r.a.createElement("div",{className:J.a.profileContant},r.a.createElement(he.a,{mainImage:n,title:"Profile"}),r.a.createElement(Ce,{isOwner:a,profile:e.profile,savePhoto:e.savePhoto,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(be,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(c,"/aboutMe"),render:function(){return r.a.createElement(ve,{isOwner:a,profile:e.profile,saveProfile:e.saveProfile})}}),r.a.createElement(m.b,{path:"".concat(c,"/myPosts"),render:function(){return r.a.createElement(ce,null)}})))})),Ne=a(156),Te=a(12),Ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).refrashProfile=function(){var t=e.props.match.params.userId;if(!t&&(t=e.props.authorizedUserId,e.props.history.push("/profile/".concat(t)),!t))return e.props.history.push("/login");e.props.getProfile(+t),e.props.getStatus(+t)},e.componentDidMount=function(){e.refrashProfile()},e.componentDidUpdate=function(t,a){e.props.match.params.userId===t.match.params.userId&&e.state===a||e.refrashProfile()},e.render=function(){return r.a.createElement("div",null,r.a.createElement(je,Object.assign({},e.props,{profile:e.props.profile,updateStatus:e.props.updateStatus,status:e.props.status,savePhoto:e.props.savePhoto,authorizedUserId:e.props.authorizedUserId,saveProfile:e.props.saveProfile})))},e}return a}(r.a.PureComponent),ke=function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id}},Ue=(Object(i.b)(ke,{getProfile:L,getStatus:z,updateStatus:D,savePhoto:G,saveProfile:B}),Object(Te.d)(Object(i.b)(ke,{getProfile:L,getStatus:z,updateStatus:D,savePhoto:G,saveProfile:B}),m.i,Ne.a)(Ie)),ye=a(53),Ae=a.n(ye),xe=a(168),Fe=a.n(xe),Re=a(59),Le=a(169),ze=a.n(Le),De=r.a.memo((function(e){var t,a=e.totalItemsCount,o=e.pageSize,c=e.currentPage,l=e.onChangePage,s=e.portionSize,u=void 0===s?10:s,i=(Object(Re.a)(e,["totalItemsCount","pageSize","currentPage","onChangePage","portionSize"]),Math.ceil(a/o)),m=[];for(t=1;t<=i;t++)m.push(t);var p=Math.ceil(i/u),f=Object(n.useState)(1),d=Object(le.a)(f,2),E=d[0],g=d[1],v=(E-1)*u+1,b=E*u;return r.a.createElement("div",null,E>1&&r.a.createElement("button",{onClick:function(){g(E-1)}},"PREV"),m.filter((function(e){return e>=v&&e<=b})).map((function(e,t){var a=c===e?ze.a.selectedPage:"";return r.a.createElement("span",{className:a,key:t,onClick:function(){l(e)}},e)})),p>E&&r.a.createElement("button",{onClick:function(){g(E+1)}},"NEXT"))})),Ge=a(170),Be=a.n(Ge),Me=r.a.memo((function(e){var t=e.user,a=e.followingInProgress,n=e.follow,o=e.unfollow,c={backgroundImage:"url(".concat(Be.a,")")};return r.a.createElement("div",{className:Ae.a.user,style:c},r.a.createElement("div",{className:Ae.a.userAvatar},r.a.createElement(p.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:w.a})),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Follow"))),r.a.createElement("div",{className:Ae.a.userInfo},r.a.createElement("h3",null,t.name),r.a.createElement("div",{className:Ae.a.city},t.status),r.a.createElement("div",null,t.status)))})),He=Object($.a)({form:"search"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t,className:de.a.searchForm},r.a.createElement(Q.a,{name:"term",component:te.a,type:"text",placeholder:"Type here to search..."}),r.a.createElement("button",{className:de.a.searchButton},r.a.createElement(E.a,{icon:g.f,size:"1x"})," "))})),We=r.a.memo((function(e){var t=e.users,a=e.pageSize,n=e.usersTotalCount,o=e.currentPage,c=e.onChangePage,l=e.followingInProgress,s=e.follow,u=e.unfollow,i={backgroundImage:"url(".concat(Fe.a,")")};return r.a.createElement("div",null,r.a.createElement("div",{className:Ae.a.usersContant},r.a.createElement(he.a,{mainImage:i,title:"Users"})),r.a.createElement(He,{onSubmit:function(e){alert(e.term)}}),r.a.createElement(De,{totalItemsCount:n,pageSize:a,currentPage:o,onChangePage:c,portionSize:10}),r.a.createElement("div",{className:Ae.a.users},t.map((function(e){return r.a.createElement(Me,{key:e.id,user:e,followingInProgress:l,follow:s,unfollow:u})}))))})),Ve={users:[],pageSize:10,usersTotalCount:0,currentPage:1,isFetching:!0,followingInProgress:[1,2]},Je=function(e){return{type:y.a.SETCURRENTPAGE,currentPage:e}},Ze=function(e){return{type:y.a.TOGGLEISFATCHING,isFetching:e}},Ke=function(e,t){return{type:y.a.TOGGLEFOLLOWINGINPROGRESS,isFetching:e,userId:t}},Xe=function(e,t){return function(){var a=Object(T.a)(N.a.mark((function a(n){var r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ze(!0)),n(Je(e)),a.next=5,U.d.getUsers(e,t);case 5:r=a.sent,n(Ze(!1)),n((c=r.data.items,{type:y.a.SETUSERS,users:c})),n((o=r.data.totalCount,{type:y.a.SETUSERSTOTALCOUNT,usersTotalCount:o})),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(A.a)(a.t0,n);case 14:case"end":return a.stop()}var o,c}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},Ye=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ke(!0,e)),t.next=4,U.d.postUserFollow(e);case 4:0===t.sent.data.resultCode&&a((n=e,{type:y.a.FOLLOW,actionId:n})),a(Ke(!1,e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 12:case"end":return t.stop()}var n}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ke(!0,e)),t.next=4,U.d.deleteUserFollow(e);case 4:0===t.sent.data.resultCode&&a((n=e,{type:y.a.UNFOLLOW,actionId:n})),a(Ke(!1,e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(A.a)(t.t0,a);case 12:case"end":return t.stop()}var n}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Qe=a(171),$e=Object(Qe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),et=function(e){return e.usersPage.pageSize},tt=function(e){return e.usersPage.usersTotalCount},at=function(e){return e.usersPage.currentPage},nt=function(e){return e.usersPage.isFetching},rt=function(e){return e.usersPage.followingInProgress},ot=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onCgangePage=function(t){e.props.getUsers(t,e.props.pageSize)},e.render=function(){return r.a.createElement("div",null,e.props.isFetching?r.a.createElement(ie,null):null,r.a.createElement(We,{users:e.props.users,pageSize:e.props.pageSize,usersTotalCount:e.props.usersTotalCount,currentPage:e.props.currentPage,onChangePage:e.onCgangePage,followingInProgress:e.props.followingInProgress,follow:e.props.follow,unfollow:e.props.unfollow}))},e}return a}(r.a.PureComponent),ct=function(e){return{users:$e(e),pageSize:et(e),usersTotalCount:tt(e),currentPage:at(e),isFetching:nt(e),followingInProgress:rt(e)}},lt=(Object(i.b)(ct,{getUsers:Xe,follow:Ye,unfollow:qe}),Object(i.b)(ct,{getUsers:Xe,follow:Ye,unfollow:qe})(ot)),st=a(172),ut=a.n(st),it=a(102),mt=a.n(it),pt=r.a.memo((function(e){var t=e.user,a=e.followingInProgress,n=e.follow,o=e.unfollow;return r.a.createElement("div",{className:mt.a.followUser},r.a.createElement("div",{className:mt.a.followUserAvatar},r.a.createElement(p.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:w.a}))),r.a.createElement("div",{className:mt.a.followUserBody},t.name,r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Follow")," ")))})),ft=r.a.memo((function(e){var t=e.users,a=(e.pageSize,e.usersTotalCount,e.currentPage,e.onChangePage,e.followingInProgress),n=e.follow,o=e.unfollow;return r.a.createElement("nav",{className:ut.a.rightBur},t.filter((function(e){return e.followed})).map((function(e){return r.a.createElement(pt,{key:e.id,user:e,followingInProgress:a,follow:n,unfollow:o})})))})),dt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onCgangePage=function(t){e.props.getUsers(t,e.props.pageSize)},e.render=function(){return r.a.createElement("div",null,e.props.isFetching?r.a.createElement(ie,null):null,r.a.createElement(ft,{users:e.props.users,pageSize:e.props.pageSize,usersTotalCount:e.props.usersTotalCount,currentPage:e.props.currentPage,onChangePage:e.onCgangePage,followingInProgress:e.props.followingInProgress,follow:e.props.follow,unfollow:e.props.unfollow}))},e}return a}(r.a.PureComponent),Et=function(e){return{users:$e(e),pageSize:et(e),usersTotalCount:tt(e),currentPage:at(e),isFetching:nt(e),followingInProgress:rt(e)}},gt=(Object(i.b)(Et,{getUsers:Xe,follow:Ye,unfollow:qe}),Object(i.b)(Et,{getUsers:Xe,follow:Ye,unfollow:qe})(dt)),vt=a(34),bt=a(157),ht=a(173),Ot=a(160),St=Object(Te.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.a.ADD_POST:var a=t.newPost;return Object(k.a)(Object(k.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[{id:7,likesCount:5,message:a}])});case y.a.REMOVE_POST:return Object(k.a)(Object(k.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case y.a.SET_USER_PROFILE:var n=Object(k.a)({},e);return n.profile=t.profile,n;case y.a.SET_STATUS:var r=Object(k.a)({},e);return r.status=t.status,r;case y.a.SAVE_PHOTO_SUCCESS:return Object(k.a)(Object(k.a)({},e),{},{profile:Object(k.a)(Object(k.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogsPage:bt.a,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.a.FOLLOW:var a=Object(k.a)(Object(k.a)({},e),{},{users:e.users.map((function(e){return e.id===t.actionId?Object(k.a)(Object(k.a)({},e),{},{followed:!0}):e}))});return a;case y.a.UNFOLLOW:var n=Object(k.a)(Object(k.a)({},e),{},{users:e.users.map((function(e){return e.id===t.actionId?Object(k.a)(Object(k.a)({},e),{},{followed:!1}):e}))});return n;case y.a.SETUSERS:var r=Object(k.a)(Object(k.a)({},e),{},{users:t.users});return r;case y.a.SETCURRENTPAGE:var o=Object(k.a)(Object(k.a)({},e),{},{currentPage:t.currentPage});return o;case y.a.SETUSERSTOTALCOUNT:var c=Object(k.a)(Object(k.a)({},e),{},{usersTotalCount:t.usersTotalCount});return c;case y.a.TOGGLEISFATCHING:var l=Object(k.a)(Object(k.a)({},e),{},{isFetching:t.isFetching});return l;case y.a.TOGGLEFOLLOWINGINPROGRESS:var s=Object(k.a)(Object(k.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(I.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});return s;default:return e}},auth:C.a,form:Ot.a,app:vt.a}),_t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Te.d,wt=Object(Te.e)(St,_t(Object(Te.a)(ht.a)));function Pt(e){return function(t){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(ie,null)},r.a.createElement(e,t))}}var Ct=a(354),jt=a(353);function Nt(e){return r.a.createElement(jt.a,Object.assign({elevation:6,variant:"filled"},e))}function Tt(){var e=Object(i.d)((function(e){return e.app.error})),t=Object(i.c)(),a=null!==e,n=function(e,a){"clickaway"!==a&&t(Object(vt.c)(null))};return r.a.createElement(Ct.a,{open:a,autoHideDuration:3e3,onClose:n},r.a.createElement(Nt,{onClose:n,severity:"error"},e))}var It=r.a.lazy((function(){return a.e(3).then(a.bind(null,371))})),kt=r.a.lazy((function(){return a.e(5).then(a.bind(null,366))})),Ut=r.a.lazy((function(){return a.e(6).then(a.bind(null,367))})),yt=r.a.lazy((function(){return a.e(4).then(a.bind(null,368))})),At=r.a.lazy((function(){return a.e(8).then(a.bind(null,369))})),xt=r.a.lazy((function(){return a.e(7).then(a.bind(null,370))})),Ft=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){e.props.initializeApp()},e.render=function(){return e.props.isInitialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(W,null),r.a.createElement("div",{className:"app-body"},r.a.createElement(Tt,null),r.a.createElement(v,null),r.a.createElement(gt,null),r.a.createElement("div",{className:"app-content"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,{to:"/profile"})}}),r.a.createElement(m.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(m.b,{path:"/dialogs",render:Pt(It)}),r.a.createElement(m.b,{path:"/users",render:function(){return r.a.createElement(lt,null)}}),r.a.createElement(m.b,{path:"/music",render:Pt(yt)}),r.a.createElement(m.b,{path:"/settings",render:Pt(kt)}),r.a.createElement(m.b,{path:"/login",render:Pt(At)}),r.a.createElement(m.b,{path:"/news",render:Pt(Ut)}),r.a.createElement(m.b,{path:"/chat",render:Pt(xt)}),r.a.createElement(m.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))))):r.a.createElement(ie,null)},e}return a}(r.a.PureComponent),Rt=function(e){return{isInitialized:e.app.isInitialized}},Lt=(Object(i.b)(Rt,{initializeApp:vt.b}),Object(Te.d)(Object(i.b)(Rt,{initializeApp:vt.b}),m.i)(Ft)),zt=r.a.memo((function(){return r.a.createElement(p.a,null,r.a.createElement(i.a,{store:wt},r.a.createElement(Lt,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(zt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(9),r=a.n(n),o=a(19),c=a(5),l=a(56),s=a(6),u={isInitialized:!1,error:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a.INITIALIZED_SUCCESSED:return Object(c.a)(Object(c.a)({},e),{},{isInitialized:!0});case s.a.SET_ERROR:return Object(c.a)(Object(c.a)({},e),{},{error:t.error});default:return e}},m=function(e){return{type:s.a.SET_ERROR,error:e}},p=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t(Object(l.b)()),e.next=3,Promise.all([a]);case 3:e.sent,t({type:s.a.INITIALIZED_SUCCESSED});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},35:function(e,t,a){e.exports={formControl:"FormControl_formControl__2UKem",error:"FormControl_error__1tHtd",errorSpan:"FormControl_errorSpan__ue2ZY",formSummeryError:"FormControl_formSummeryError__1wEO3",form:"FormControl_form__3XGTz",loginBlock:"FormControl_loginBlock__1m0F_",searchButton:"FormControl_searchButton__DNSQD",loginCheckBox:"FormControl_loginCheckBox__2IDiv"}},39:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return i}));var n=a(59),r=a(0),o=a.n(r),c=a(35),l=a.n(c),s=function(e){var t=e.meta,a=e.children,n=t.touched&&t.error;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:l.a.formControl+" "+(n?l.a.error:"")},a),n&&o.a.createElement("span",{className:l.a.errorSpan},t.error))};function u(e){var t=e.input,a=(e.meta,e.children,Object(n.a)(e,["input","meta","children"]));return o.a.createElement(s,e," ",o.a.createElement("textarea",Object.assign({},t,a)))}function i(e){var t=e.input,a=(e.meta,e.children,Object(n.a)(e,["input","meta","children"]));return o.a.createElement(s,e," ",o.a.createElement("input",Object.assign({},t,a,{className:l.a.formInput})))}},52:function(e,t,a){e.exports={header:"Header_header__2etDN",logo:"Header_logo__1RdLJ",searchBur:"Header_searchBur__1Bp8_",loginBlock:"Header_loginBlock__3mGyR"}},53:function(e,t,a){e.exports={users:"Users_users__3NbUL",user:"Users_user__1KNSY",userInfo:"Users_userInfo__2jpxG",userAvatar:"Users_userAvatar__2OUgL"}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return v}));var n=a(9),r=a.n(n),o=a(19),c=a(5),l=a(22),s=a(49),u=a(6),i=a(23),m={id:null,email:null,login:"Julia",isAuth:!1,captchaUrl:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a.SET_USER_DATA:var a=Object(c.a)(Object(c.a)({},e),t.data);return a;case u.a.GET_CAPTCHA_URL_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},f=function(e,t,a,n){return{type:u.a.SET_USER_DATA,data:{id:e,email:t,login:a,isAuth:n}}},d=function(e){return{type:u.a.GET_CAPTCHA_URL_SUCCESS,captchaUrl:e}},E=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.getAuthMe();case 3:0===(a=e.sent).data.resultCode&&(n=a.data.data,o=n.id,c=n.email,s=n.login,n.isAuth,t(f(o,c,s,!0))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(i.a)(e.t0,t);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t,a,n){return function(){var c=Object(o.a)(r.a.mark((function o(c){var u,m;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.login(e,t,a,n);case 3:0===(u=r.sent).data.resultCode?c(E()):(10===u.data.resultCode&&c(b()),m=u.data.messages.length>0?u.data.messages[0]:"Some error",c(Object(s.a)("login",{_error:m}))),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),Object(i.a)(r.t0,c);case 10:case"end":return r.stop()}}),o,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},v=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.logout();case 3:0===e.sent.data.resultCode&&t(f(null,null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(i.a)(e.t0,t);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.c.getCaptchaUrl();case 3:a=e.sent,n=a.data.url,t(d(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(i.a)(e.t0,t);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},6:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.INITIALIZED_SUCCESSED="socialNetwork/app/INITIALIZED-SUCCESSED",e.SET_ERROR="socialNetwork/app/SET_ERROR",e.SET_USER_DATA="socialNetwork/auth/SET-USER-DATA",e.GET_CAPTCHA_URL_SUCCESS="socialNetwork/auth/GET_CAPTCHA_URL_SUCCESS",e.SEND_MESSAGE="socialNetwork/dialogs/SEND-MESSAGE",e.FOLLOW="socialNetwork/users/FOLLOW",e.UNFOLLOW="socialNetwork/users/FUNFOLLOW",e.SETUSERS="socialNetwork/users/FSET-USERS",e.SETCURRENTPAGE="socialNetwork/users/FSET-CURRENT-PAGE",e.SETUSERSTOTALCOUNT="socialNetwork/users/FSET-USERS-TOTAL-COUNT",e.TOGGLEISFATCHING="socialNetwork/users/FTOGGLE-IS-FETCHING",e.TOGGLEFOLLOWINGINPROGRESS="socialNetwork/users/FTOGGLE-FOLLOWING-IN-PROGRESS",e.ADD_POST="socialNetwork/profile/ADD-POST",e.SET_USER_PROFILE="socialNetwork/profile/SET-USER-PROFILE",e.SET_STATUS="socialNetwork/profile/SET-STATUS",e.REMOVE_POST="socialNetwork/profile/REMOVE-POST",e.SAVE_PHOTO_SUCCESS="socialNetwork/profile/SAVE-PHOTO-SUCCESS"}(n||(n={}))},64:function(e,t,a){e.exports=a.p+"static/media/\u0413\u043e\u043b\u0443\u0431\u043e\u0439 \u041a\u0440\u0443\u0433 \u0411\u0438\u0437\u043d\u0435\u0441 \u041b\u043e\u0433\u043e\u0442\u0438\u043f (3).5ef4e419.png"},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(101),c=a.n(o),l=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:c.a.mainImageWrapper,style:e.mainImage}),r.a.createElement("div",{className:c.a.titleOnImage},r.a.createElement("div",{className:c.a.titleOnImageBlock},r.a.createElement("h2",null,e.title))))}))}},[[204,1,2]]]);
//# sourceMappingURL=main.b3fb594e.chunk.js.map